"""
DO NOT EDIT THIS FILE MANUALLY!
"""

import os

import pytest

from framework.fixtures.http.base import ClientClass
{% for client in clients -%}
from {{ child_client_import }}.{{ service_module }}.{{ client.api_module }}_client import {{ client.api_client_class }}
{% endfor %}


class {{ service_class }}:
    def __init__(self, api_client: ClientClass) -> None:
        self.api_client = api_client
{% for client in clients %}        self.{{ client.attribute_name }} = {{ client.api_client_class }}(api_client=api_client)
{% endfor %}

@pytest.fixture(scope="session")
def {{ service_fixture_name }}_client() -> ClientClass:
    return ClientClass(base_url=os.getenv("{{ service_module | upper }}_BASE_URL"))


@pytest.fixture(scope="session")
def {{ service_fixture_name }}({{ service_fixture_name }}_client: ClientClass) -> {{ service_class }}:
    return {{ service_class }}(api_client={{ service_fixture_name }}_client)
